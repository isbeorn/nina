<UserControl x:Class="NINA.Sequencer.Logic.CoordinatesControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:enum="clr-namespace:NINA.Core.Enum;assembly=NINA.Core"
    xmlns:logic="clr-namespace:NINA.Sequencer.Logic"
    xmlns:mini="clr-namespace:NINA.View.Sequencer.MiniSequencer"
    xmlns:ninactrl="clr-namespace:NINA.CustomControlLibrary;assembly=NINA.CustomControlLibrary"
    xmlns:ns="clr-namespace:NINA.Core.Locale;assembly=NINA.Core"
    xmlns:rules="clr-namespace:NINA.Core.Utility.ValidationRules;assembly=NINA.Core"
    xmlns:s="clr-namespace:System;assembly=mscorlib"
    xmlns:util="clr-namespace:NINA.Core.Utility;assembly=NINA.Core"
    xmlns:view="clr-namespace:NINA.View.Sequencer"
    xmlns:local="clr-namespace:NINA.Sequencer.Logic">

    <StackPanel
         DataContext="{Binding RelativeSource={RelativeSource AncestorType={x:Type local:CoordinatesControl}}}"
         Orientation="Horizontal"
         Visibility="{Binding Path=Inherited, Converter={StaticResource InverseBooleanToVisibilityCollapsedConverter}}">
        <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblRA}" />
        <TextBox
             MinWidth="40"
             Margin="5,4,0,0"
             TextAlignment="Right">
            <TextBox.Text>
                <Binding Path="Coords.RAHours" UpdateSourceTrigger="LostFocus">
                    <Binding.ValidationRules>
                        <rules:HoursRule />
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <TextBlock VerticalAlignment="Center">h</TextBlock>
        <TextBox
             MinWidth="40"
             Margin="5,4,0,0"
             TextAlignment="Right">
            <TextBox.Text>
                <Binding Path="Coords.RAMinutes" UpdateSourceTrigger="LostFocus">
                    <Binding.ValidationRules>
                        <rules:MinutesRule />
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <TextBlock VerticalAlignment="Center">m</TextBlock>
        <TextBox
             MinWidth="40"
             Margin="5,4,0,0"
             TextAlignment="Right">
            <TextBox.Text>
                <Binding Path="Coords.RASeconds" StringFormat="N1" UpdateSourceTrigger="LostFocus">
                    <Binding.ValidationRules>
                        <rules:SecondsRule />
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <TextBlock VerticalAlignment="Center">s</TextBlock>
        <logic:ExprControl Margin="5,0,0,0" Label="(Decimal " Unit=")" DataContext="{Binding Mode=TwoWay, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type view:SequenceBlockView}}, Path=DataContext}" Exp="{Binding RaExpression, Mode=TwoWay}" />
        <TextBlock
             Margin="10,0,10,0"
             HorizontalAlignment="Center"
             VerticalAlignment="Center"
             Text="|" />
        <TextBlock Margin="10,0,0,0" VerticalAlignment="Center" Text="{ns:Loc LblDec}" />
        <TextBox
             MinWidth="40"
             Margin="5,4,0,0"
             TextAlignment="Right">
            <TextBox.Text>
                <MultiBinding Converter="{StaticResource DecDegreeConverter}" UpdateSourceTrigger="LostFocus">
                    <Binding Path="Coords.NegativeDec" />
                    <Binding Path="Coords.DecDegrees">
                        <Binding.ValidationRules>
                            <rules:DegreesRule />
                        </Binding.ValidationRules>
                    </Binding>
                </MultiBinding>
            </TextBox.Text>
        </TextBox>
        <TextBlock VerticalAlignment="Center">d</TextBlock>
        <TextBox
             MinWidth="40"
             Margin="5,4,0,0"
             TextAlignment="Right">
            <TextBox.Text>
                <Binding Path="Coords.DecMinutes" UpdateSourceTrigger="LostFocus">
                    <Binding.ValidationRules>
                        <rules:MinutesRule />
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <TextBlock VerticalAlignment="Center">m</TextBlock>
        <TextBox
             MinWidth="40"
             Margin="5,4,0,0"
             TextAlignment="Right">
            <TextBox.Text>
                <Binding Path="Coords.DecSeconds" StringFormat="N1" UpdateSourceTrigger="LostFocus">
                    <Binding.ValidationRules>
                        <rules:SecondsRule />
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <TextBlock VerticalAlignment="Center">s</TextBlock>
        <logic:ExprControl Margin="5,0,0,0" Label="(Decimal " Unit=")" DataContext="{Binding Mode=TwoWay, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type view:SequenceBlockView}}, Path=DataContext}" Exp="{Binding DecExpression, Mode=TwoWay}" />
    </StackPanel>


</UserControl>
